<!DOCTYPE html>
<html lang="en">

<head>
    <script type="text/javascript">
      var _iub = _iub || [];
      _iub.csConfiguration = {"localConsentDomain":"iubendaeu.onrender.com","askConsentAtCookiePolicyUpdate":true,"enableTcf":true,"enableUspr":true,"floatingPreferencesButtonDisplay":"bottom-right","googleAdditionalConsentMode":true,"lang":"en","perPurposeConsent":true,"siteId":3642744,"tcfPurposes":{"2":"consent_only","7":"consent_only","8":"consent_only","9":"consent_only","10":"consent_only","11":"consent_only"},"usprApplies":true,"whitelabel":false,"cookiePolicyId":55263508, "banner":{ "acceptButtonDisplay":true,"closeButtonDisplay":false,"customizeButtonDisplay":true,"explicitWithdrawal":true,"listPurposes":true,"ownerName":"iubendaeu.onrender.com","position":"float-top-center","rejectButtonDisplay":true,"showPurposesToggles":true,"showTitle":false,"showTotalNumberOfProviders":true }};
      </script>
      <script type="text/javascript" src="https://cs.iubenda.com/autoblocking/3642744.js"></script>
      <script type="text/javascript" src="https://cdn.iubenda.com/cs/tcf/stub-v2.js"></script>
      <script type="text/javascript" src="https://cdn.iubenda.com/cs/tcf/safe-tcf-v2.js"></script>
      <script type="text/javascript" src="https://cdn.iubenda.com/cs/gpp/stub.js"></script>
      <script type="text/javascript" src="https://cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TCF via GPP API</title>
  <style>
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .box-container {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
      width: 100%;
      margin-top: 20px;
    }

    .box {
      width: 45%;
      height: fit-content;
      padding: 20px;
      border: 1px solid #ccc;
    }

    .title {
      text-align: center;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .page-title {
      text-align: center;
      font-size: 36px;
      margin-bottom: 20px;
    }

    .input-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    textarea {
      width: 50%;
      height: 100px;
      margin-bottom: 10px;
    }

    button {
      padding: 10px 20px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="page-title">TCF via GPP API</div>
    <div class="input-container">
      <textarea id="htmlInput" placeholder="Paste your HTML here..."></textarea>
      <button id="applyButton">Load creative</button>
    </div>
    <div class="box-container">
      <div class="box" id="outputContainer">
        <!-- Rendered content will appear here -->
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      // Retrieve the saved HTML from localStorage
      var savedHtml = localStorage.getItem('savedHtml');
      if (savedHtml) {
        document.getElementById('outputContainer').innerHTML = savedHtml;
      }

      // Retrieve the saved input text from localStorage
      var savedInput = localStorage.getItem('savedInput');
      if (savedInput) {
        document.getElementById('htmlInput').value = savedInput;
      }
    });

    document.getElementById('applyButton').addEventListener('click', function () {
      var htmlInput = document.getElementById('htmlInput').value;
      var outputContainer = document.getElementById('outputContainer');

      // Clear previous content
      outputContainer.innerHTML = '';

      // Create a new div element and set its innerHTML to the input
      var newDiv = document.createElement('div');
      newDiv.innerHTML = htmlInput;

      // Append the new div to the output container
      outputContainer.appendChild(newDiv);

      // Save the HTML to localStorage
      localStorage.setItem('savedHtml', outputContainer.innerHTML);

      // Save the input text to localStorage
      localStorage.setItem('savedInput', htmlInput);
    });
  </script>
</body>

</html>